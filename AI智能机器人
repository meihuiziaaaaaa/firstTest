
LoadExcel项目：https://github.com/meihuiziaaaaaa/LoadExcel


项目gittub地址



介绍：SpringBoot    springCloud   mongdb     Idea  以及.net，  python   redis  jdk1.8




     该机器人是用于在用户各种终端访问并咨询经销商有关信息 而经销商无法及时回复从而由AI接替及时回复的目的。当经销商发现并自主回复后，AI取消接替回复功能 ，时间是两个小时，记录经销商最后一次的回复时间，当时间大于两个小时的时候 AI自动回复。

功能模块有：1 消息处理服务  用户AI关闭状态接口  3AI元数据信息操作接口   4发送的消息接口（使用现有的dll）

                     5答案库系统     6判断消息来源（c或b端的接口）



      项目分别划分为三个独立的服务  ，服务之间基于http协议访问

     服务1（.net）：是接受用户消息并判断消息来源 .以及消息类型判断 是b-c（商家-用户） 还是c-b 如果消息符合条件则判断是否开启AI回复功能并调用服务3回复消息等一些逻辑。

     服务2(java)：接受服务1传递消息，解析并对消息判断，是否是模板消息，是模板消息则直接用户画像，非模板消息则把用户查询消息内容去调用答案分类系统，根据结果完善用户画像信息。分类系统采用python编写 ，用大量模板机器学习得到分类目的。

    服务3(.net):根据服务2中的用户画像内容得出用户的购车意愿以及关注点，并且有用户最近查询的内容得出回复，对没有分类的消息调用图灵机器人回复。

   

      服务2的实现：

    基于SpringBoot 接收服务一调用服务二的消息 一共三种 1文本消息  ，电话模板消息   其他模板消息（回复优惠，贷款，本地，置换等） 对于文本消息解析采用okHttp调用分类系统，为防止分类系统崩溃，使用SpringCloud 熔断器Hystrix实现熔断功能当时间超过100毫秒 或者接口调用异常 进行异常降级操作，接口返回 分类和车型，对于返回的内容和模板消息进行完善用户画像，其中从分类系统获取的内容更新用户画像前，先去获取经销商ID ,然后获取经销商所经营的主营品牌汽车组，然后和分类系统的车型对比，如果有则正常更新分类和车型，如果无则自定义分类，并把车型作为画像中的content，由于这两个接口的数据是固定的所以采用redis缓存数据，由于这两个接口属于前端组的接口有加密过程，使用的是md5加密采用加盐加密的方式

生成32位md5码
的，加密的是请求参数，接口的地址url跟着分配的session/MD5加密数据/ticket(时间戳)/version（1）合成一段字符串访问接口、最后使用最后服务作为Eureka服务客户端，向4台Eureka服务中心注册，

在上线前另加一个java普通项目，读取excel表格，里面有用户电话和中意车型，把他们添加到用户画像中，



